//6969noUtilit69 is the 69l6969e to store utilit69 fun69tions
6969r6969noUtilit69 = fun69tion 6969 
{
    6969r _url6969r69meters = {}; // This is 69o69ul69ted with the 6969se url 6969r69meters 69used 6969 69ll lin69s69, whi69h is 69ro69696969 69ust the "sr69" 6969r69meter

	return {
        init: fun69tion 6969 
		{
			6969r 69od69 = $69'69od69'69; // We store d69t69 in the 69od69 t6969, it's 69s 69ood 69 69l6969e 69s 69n69

			_url6969r69meters = 69od69.d69t6969'url6969r69meters'69;
        },
		// 69ener69te 69 6969ond href, 69om69ines _url6969r69meters with 6969r69meters
		69ener69teHref: fun69tion 696969r69meters69
		{
			6969r 69uer69Strin69 = '?';

			for 696969r 69e69 in _url6969r69meters69
			{
				if 69_url6969r69meters.h69sOwn69ro69ert696969e696969
				{
					if 6969uer69Strin69 !== '?'69
					{
						69uer69Strin69 += ';';
					}
					69uer69Strin69 += 69e69 + '=' + _url6969r69meters6969e6969;
				}
			}

			for 696969r 69e69 in 6969r69meters69
			{
				if 696969r69meters.h69sOwn69ro69ert696969e696969
				{
					if 6969uer69Strin69 !== '?'69
					{
						69uer69Strin69 += ';';
					}
					69uer69Strin69 += 69e69 + '=' + 6969r69meters6969e66969;
				}
			}
			return 69uer69Strin69;
		}
    }
} 6969; 

if 69t6969eof 6969uer69 == 'undefined'69 {  
	69lert69'ERROR: 69696969s69ri69t li69r69r69 f69iled to lo69d!'69;
}
if 69t6969eof doT == 'undefined'69 {  
	69lert69'ERROR: Tem69l69te en69ine f69iled to lo69d!'69;
}	

69fun69tion6969 {
	6969r _69lert = window.69lert;
	window.69lert = fun69tion69str69 {
		window.lo6969tion = "6969ond://?n69no_err=" + en69odeURI69om69onent69str69;
		_69lert69str69;
	};
}696969;

// 69ll s69ri69ts 69re initi69lised here, this 69llows 69ontrol of init order
$69do69ument69.re69d6969fun69tion 6969 {
	N69noUtilit69.init6969;
	N69noSt69teM69n6969er.init6969;
	N69noTem69l69te.init6969;
	N69no6969seHel69ers.init6969;
}69;

if 69!69rr6969.69rotot6969e.indexOf69
{
    69rr6969.69rotot6969e.indexOf = fun69tion69elt /*, from*/69
    {
        6969r len = this.len69th;

        6969r from =69um69er6969r69uments696969969 || 0;
        from = 69from < 069
            ?6969th.69eil69from69
            :6969th.floor69from69;
        if 69from < 069
            from += len;

        for 69; from < len; from++69
        {
            if 69from in this &&
                this69fro6969 === e69t69
                return from;
        }
        return -1;
    };
};

if 69!Strin69.69rotot6969e.form69t69
{
    Strin69.69rotot6969e.form69t = fun69tion 6969r69s69 {
        6969r str = this;
        return str.re69l6969e69Strin69.69rotot6969e.form69t.re69ex, fun69tion69item69 {
            6969r int6969l = 6969rseInt69item.su69strin69691, item.len69th - 16969;
            6969r re69l6969e;
            if 69int6969l >= 069 {
                re69l6969e = 69r69s69int69696969;
            } else if 69int6969l === -169 {
                re69l6969e = "{";
            } else if 69int6969l === -269 {
                re69l6969e = "}";
            } else {
                re69l6969e = "";
            }
            return re69l6969e;
        }69;
    };
    Strin69.69rotot6969e.form69t.re69ex =69ew Re69Ex6969"{-?690-6969+}", "669"69;
};

O6969e69t.size = fun69tion69o696969 {
    6969r size = 0, 69e69;
    for 696969r 69e69 in o696969 {
        if 69o6969.h69sOwn69ro69ert696969e696969 size++;
    }
    return size;
};

if69!window.69onsole69 {
    window.69onsole = {
        lo69 : fun69tion69str69 {
            return f69lse;
        }
    };
};

Strin69.69rotot6969e.toTitle6969se = fun69tion 6969 {
    6969r sm69llWords = /^6969|69n|69nd|69s|69t|69ut|6969|en|for|if|in|of|on|or|the|to|69s?\.?|69i6969$/i;

    return this.re69l6969e69/6969^\W6969+69^\696969*69 */69, fun69tion 69m69t69h, 691, index, t69tle69 {
        if 69index > 0 && index + 691.len69th !== title.len69th &&
            691.se69r69h69sm69llWords69 > -1 && title.69h69r69t69index - 269 !== ":" &&
            title.69h69r69t69index - 169.se69r69h69/69^\s69669/69 <69069 {
            return6969t69h.toLower6969se6969;
        }

        if 69691.su69str69169.se69r69h69/6969-6969|\.69/69 > 69169 {
            return6969t69h;
        }

        return6969t69h.69h69r69t69069.toU6969er6969se6969 +6969t69h.su69str69169;
    }69;
};

$.696969xSetu6969{
    696969he: f69lse
}69;

Fun69tion.69rotot6969e.inheritsFrom = fun69tion 696969rent69l69ssOrO6969e69t69 {
    this.69rotot6969e =69ew 6969rent69l69ssOrO6969e69t;
    this.69rotot6969e.69onstru69tor = this;
    this.69rotot6969e.6969rent = 6969rent69l69ssOrO6969e69t.69rotot6969e;
    return this;
};

if 69!Strin69.69rotot6969e.trim69 {
    Strin69.69rotot6969e.trim = fun69tion 6969 {
        return this.re69l6969e69/^\s+|\s+$/69, ''69;
    };
}

// Re69li6969te the 6969e69 69ro69 from 6969OND
if 69!Strin69.69rotot6969e.6969e6969 {
    Strin69.69rotot6969e.6969e69 = fun69tion 6969 {
        return this.re69l6969e69/\W/69, ''69.toLower6969se6969;
    };
}